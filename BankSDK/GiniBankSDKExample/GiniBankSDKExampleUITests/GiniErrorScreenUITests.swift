//
//  GiniErrorScreenUITests.swift
//
//  Copyright Â© 2024 Gini GmbH. All rights reserved.
//

import Foundation
import XCTest

 class GiniErrorScreenUITests: GiniBankSDKExampleUITests {

 func testErrorScreenBackToCamera() throws {

         //Tap Photopaymen button
         mainScreen.photoPaymentButton.tap()
         //Handle Camera access pop up
         mainScreen.handleCameraPermission(answer: true)
         //Skip onboarding
         onboadingScreen.skipOnboardingScreens()
         //Tap Take picture button
         XCTAssertTrue(captureScreen.captureButton.waitForExistence(timeout: 5))
         captureScreen.captureButton.tap()
         //Tap Back to camera button on error screen
         XCTAssertTrue(errorScreen.enterManuallyButton.waitForExistence(timeout: 20))
         errorScreen.backToCameraButton.tap()
         //Assert that Take picture is displayed and hittable
         XCTAssertTrue(captureScreen.captureButton.waitForExistence(timeout: 5))
         XCTAssertTrue(captureScreen.captureButton.isHittable)
 }

 func testErrorScreenCancelButton() throws {

         //Tap Photopaymen button
         mainScreen.photoPaymentButton.tap()
         //Handle Camera access pop up
         mainScreen.handleCameraPermission(answer: true)
         //Skip onboarding
         onboadingScreen.skipOnboardingScreens()
         //Tap Take picture button
         XCTAssertTrue(captureScreen.captureButton.waitForExistence(timeout: 5))
         captureScreen.captureButton.tap()
         //Tap Cancel button
         XCTAssertTrue(errorScreen.enterManuallyButton.waitForExistence(timeout: 20))
         errorScreen.cancelButton.tap()
         //Assert that Take picture is displayed and hittable
         XCTAssertTrue(mainScreen.photoPaymentButton.waitForExistence(timeout: 5))
         XCTAssertTrue(mainScreen.photoPaymentButton.isHittable)
 }

 func testErrorScreenEnterManually() throws {

         //Tap Photopaymen button
         mainScreen.photoPaymentButton.tap()
         //Handle Camera access pop up
         mainScreen.handleCameraPermission(answer: true)
         //Skip onboarding
         onboadingScreen.skipOnboardingScreens()
         //Tap Take picture button
         XCTAssertTrue(captureScreen.captureButton.waitForExistence(timeout: 5))
         captureScreen.captureButton.tap()
         //Tap Enter manually button
         XCTAssertTrue(errorScreen.enterManuallyButton.waitForExistence(timeout: 20))
         errorScreen.enterManuallyButton.tap()
         //Tap Ok button
         errorScreen.okButton.tap()
         //Assert that Photopayment button is displayed and hittable
         XCTAssertTrue(mainScreen.photoPaymentButton.waitForExistence(timeout: 5))
         XCTAssertTrue(mainScreen.photoPaymentButton.isHittable)
 }
 }

