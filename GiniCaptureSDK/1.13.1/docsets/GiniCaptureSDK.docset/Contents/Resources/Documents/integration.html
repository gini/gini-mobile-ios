<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Integration  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Integration  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
        <img class="logo-icon" src="img/logo.png"/>
    
        </a>
        
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/gini/gini-mobile-ios.git">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">GiniCaptureSDK Reference</a>
      <img class="carat" src="img/carat.png" />
      Integration  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Documentation.html">Documentation</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="installation.html">Installation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="integration.html">Integration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="integration-in-a-xamarin-project.html">Integration in a Xamarin Project</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="license.html">License</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="customization-guide.html">Customization guide</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="open-with-guide.html">Open with guide</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="import-pdfs-and-images-guide.html">Import PDFs and images guide</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="qr-code-scanning-guide.html">QR Code scanning guide</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="event-tracking-guide.html">Event tracking guide</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="error-logging-guide.html">Error logging guide</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="migration-guide.html">Migration guide</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/AnalysisViewController.html">AnalysisViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/AnalysisResult.html">AnalysisResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CameraViewController.html">CameraViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CustomDocumentValidationError.html">CustomDocumentValidationError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CustomDocumentValidationResult.html">CustomDocumentValidationResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DocumentPickerCoordinator.html">DocumentPickerCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniConfiguration.html">GiniConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniConfiguration/GiniCaptureImportFileTypes.html">– GiniCaptureImportFileTypes</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniImageDocument.html">GiniImageDocument</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniPDFDocument.html">GiniPDFDocument</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniQRCodeDocument.html">GiniQRCodeDocument</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniCapture.html">GiniCapture</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniCaptureDocumentBuilder.html">GiniCaptureDocumentBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniCaptureDocumentValidator.html">GiniCaptureDocumentValidator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/HelpMenuViewController.html">HelpMenuViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/HelpMenuViewController/Item.html">– Item</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ImageAnalysisNoResultsViewController.html">ImageAnalysisNoResultsViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MultipageReviewViewController.html">MultipageReviewViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/OnboardingPage.html">OnboardingPage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/OnboardingViewController.html">OnboardingViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ReviewViewController.html">ReviewViewController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/AnalysisDelegate.html">AnalysisDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/CameraViewControllerDelegate.html">CameraViewControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Diffable.html">Diffable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DocumentPickerCoordinatorDelegate.html">DocumentPickerCoordinatorDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/GiniLogger.html">GiniLogger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/GiniCaptureDelegate.html">GiniCaptureDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/GiniCaptureDocument.html">GiniCaptureDocument</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/GiniCaptureError.html">GiniCaptureError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/GiniCaptureResultsDelegate.html">GiniCaptureResultsDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/HelpMenuViewControllerDelegate.html">HelpMenuViewControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MultipageReviewViewControllerDelegate.html">MultipageReviewViewControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ReviewViewControllerDelegate.html">ReviewViewControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/UploadDelegate.html">UploadDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums.html#/s:14GiniCaptureSDK0aB16TrackingDelegateP">GiniCaptureTrackingDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/OnboardingScreenTrackingDelegate.html">OnboardingScreenTrackingDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/CameraScreenTrackingDelegate.html">CameraScreenTrackingDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ReviewScreenTrackingDelegate.html">ReviewScreenTrackingDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/AnalysisScreenTrackingDelegate.html">AnalysisScreenTrackingDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniCaptureFont.html">GiniCaptureFont</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/GiniCapturePage.html">GiniCapturePage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Event.html">Event</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Typealiases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:14GiniCaptureSDK0aB15NetworkDelegatea">GiniCaptureNetworkDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Classes.html">Other Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Constraints.html">Constraints</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DefaultLogger.html">DefaultLogger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DocumentService.html">DocumentService</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniBarButtonItem.html">GiniBarButtonItem</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniCaptureErrorLogger.html">GiniCaptureErrorLogger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniColor.html">GiniColor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniNetworkingScreenAPICoordinator.html">GiniNetworkingScreenAPICoordinator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniScreenAPICoordinator.html">GiniScreenAPICoordinator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/QRCodesExtractor.html">QRCodesExtractor</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Global Variables.html">Other Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Global%20Variables.html#/s:14GiniCaptureSDK0aB10SDKVersionSSvp">GiniCaptureSDKVersion</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Enumerations.html">Other Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AnalysisError.html">AnalysisError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AnalysisScreenEventType.html">AnalysisScreenEventType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AnalysisStrings.html">AnalysisStrings</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/CameraError.html">CameraError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/CameraScreenEventType.html">CameraScreenEventType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/DocumentImportMethod.html">DocumentImportMethod</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/DocumentPickerType.html">DocumentPickerType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/DocumentSource.html">DocumentSource</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/DocumentValidationError.html">DocumentValidationError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/FilePickerError.html">FilePickerError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/GiniCaptureDocumentType.html">GiniCaptureDocumentType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ImageAnalysisNoResultsStrings.html">ImageAnalysisNoResultsStrings</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ImageAssetsStrings.html">ImageAssetsStrings</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/NoticeActionType.html">NoticeActionType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/OnboardingScreenEventType.html">OnboardingScreenEventType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/OnboardingStrings.html">OnboardingStrings</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/OpaqueViewStyle.html">OpaqueViewStyle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/QRCodesFormat.html">QRCodesFormat</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ReviewError.html">ReviewError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ReviewScreenEventType.html">ReviewScreenEventType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Bundle.html">Bundle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Collection.html">Collection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Optional.html">Optional</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UIColor.html">UIColor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UIDevice.html">UIDevice</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UINavigationController.html">UINavigationController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Functions.html">Other Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Functions.html#/s:14GiniCaptureSDK32NSLocalizedStringPreferredFormat_11fallbackKey7comment14isCustomizableS2S_S2SSbtF">NSLocalizedStringPreferredFormat(_:fallbackKey:comment:isCustomizable:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Functions.html#/s:14GiniCaptureSDK21UIImageNamedPreferred5namedSo0D0CSgSS_tF">UIImageNamedPreferred(named:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Functions.html#/s:14GiniCaptureSDK04giniB6BundleSo8NSBundleCyF">giniCaptureBundle()</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DocumentServiceProtocol.html">DocumentServiceProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/GiniCaptureErrorLoggerDelegate.html">GiniCaptureErrorLoggerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/GiniCaptureNetworkService.html">GiniCaptureNetworkService</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/LocalizableStringResource.html">LocalizableStringResource</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/PreferredButtonResource.html">PreferredButtonResource</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Structures.html">Other Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Colors.html">Colors</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Colors/Gini.html">– Gini</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ErrorLog.html">ErrorLog</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Type Aliases.html">Other Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Typealiases.html#/s:14GiniCaptureSDK18AnalysisCompletiona">AnalysisCompletion</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Typealiases.html#/s:14GiniCaptureSDK17LocalizationEntrya">LocalizationEntry</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Typealiases.html#/s:14GiniCaptureSDK24UploadDocumentCompletiona">UploadDocumentCompletion</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <h1 id='integration' class='heading'>Integration</h1>

<p>The Gini Capture SDK provides two integration options. A <a href="#screen-api">Screen API</a> that is easy to implement and a more complex, but also more flexible <a href="#component-api">Component API</a>. Both APIs can access the complete functionality of the SDK.</p>

<p><strong>Note</strong>: You need to specify the <code>NSCameraUsageDescription</code> key in your <code>Info.plist</code> file. This key is mandatory for all apps since iOS 10 when using the <code>Camera</code> framework. Also if you&rsquo;re using the <a href="https://github.com/gini/bank-api-library-ios">Gini Bank API Library</a> you need to add support for &ldquo;Keychain Sharing&rdquo; in your entitlements by adding a <code>keychain-access-groups</code> value to your entitlements file. For more information see the <a href="https://developer.gini.net/gini-mobile-ios/GiniBankAPILibrary/getting-started.html">Integration Guide</a> of the Gini Bank API Library.</p>
<h2 id='screen-api' class='heading'>Screen API</h2>

<p>The Screen API provides a custom <code>UIViewController</code> object, which can be presented modally. It handles the complete process from showing the onboarding until providing a UI for the analysis.
The Screen API, in turn, offers two different ways of implementation:</p>
<h3 id='ui-with-default-networking-recommended' class='heading'>UI with Default Networking (Recommended)</h3>

<p>Using this method you don&rsquo;t need to care about handling the analysis process with the <a href="https://github.com/gini/bank-api-library-ios">Gini Bank API Library</a>, you only need to provide your API credentials and a delegate to get the analysis results.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">GiniCapture</span><span class="o">.</span><span class="nf">viewController</span><span class="p">(</span><span class="nv">withClient</span><span class="p">:</span> <span class="n">client</span><span class="p">,</span>
                                               <span class="nv">configuration</span><span class="p">:</span> <span class="n">giniConfiguration</span><span class="p">,</span>
                                               <span class="nv">resultsDelegate</span><span class="p">:</span> <span class="n">resultsDelegate</span><span class="p">)</span>

<span class="nf">present</span><span class="p">(</span><span class="n">viewController</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span><span class="kc">nil</span><span class="p">)</span>
</code></pre>

<p>If you want to use a transparent proxy with your own authentication you can specify your own domain and add <code>AlternativeTokenSource</code> protocol implementation:</p>
<pre class="highlight swift"><code>    <span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">GiniCapture</span><span class="o">.</span><span class="nf">viewController</span><span class="p">(</span><span class="nv">withClient</span><span class="p">:</span> <span class="n">client</span><span class="p">,</span>
                                                    <span class="nv">configuration</span><span class="p">:</span> <span class="n">configuration</span><span class="p">,</span>
                                                    <span class="nv">resultsDelegate</span><span class="p">:</span> <span class="n">resultsDelegate</span><span class="p">,</span>
                                                    <span class="nv">api</span><span class="p">:</span> <span class="o">.</span><span class="nf">custom</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"api.custom.net"</span><span class="p">,</span>
                                                                <span class="nv">tokenSource</span><span class="p">:</span> <span class="kt">MyAlternativeTokenSource</span><span class="p">))</span>
</code></pre>

<p>The token you provide will be added as a bearer token to all <code>api.custom.net</code> requests.</p>

<p>You can also specify a custom path segment, if your proxy url requires it:</p>
<pre class="highlight swift"><code>    <span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">GiniCapture</span><span class="o">.</span><span class="nf">viewController</span><span class="p">(</span><span class="nv">withClient</span><span class="p">:</span> <span class="n">client</span><span class="p">,</span>
                                                    <span class="nv">configuration</span><span class="p">:</span> <span class="n">configuration</span><span class="p">,</span>
                                                    <span class="nv">resultsDelegate</span><span class="p">:</span> <span class="n">resultsDelegate</span><span class="p">,</span>
                                                    <span class="nv">api</span><span class="p">:</span> <span class="o">.</span><span class="nf">custom</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"api.custom.net"</span><span class="p">,</span>
                                                                <span class="nv">path</span><span class="p">:</span> <span class="s">"/custom/path"</span><span class="p">,</span>
                                                                <span class="nv">tokenSource</span><span class="p">:</span> <span class="kt">MyAlternativeTokenSource</span><span class="p">))</span>
</code></pre>
<h4 id='certificate-pinning' class='heading'>Certificate Pinning</h4>

<p>Optionally if you want to use <em>Certificate pinning</em> and provide metadata for the upload process, you can pass both your public key pinning configuration (see <a href="https://github.com/datatheorem/TrustKit">TrustKit repo</a> for more information), the metadata information and the <em>API type</em> (the <a href="https://pay-api.gini.net/documentation/#gini-pay-api-documentation-v1-0">Gini Pay API</a> is used by default) as follows:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">TrustKit</span>

<span class="k">let</span> <span class="nv">yourPublicPinningConfig</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nv">kTSKPinnedDomains</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">"api.gini.net"</span><span class="p">:</span> <span class="p">[</span>
        <span class="nv">kTSKPublicKeyHashes</span><span class="p">:</span> <span class="p">[</span>
        <span class="c1">// old *.gini.net public key</span>
        <span class="s">"cNzbGowA+LNeQ681yMm8ulHxXiGojHE8qAjI+M7bIxU="</span><span class="p">,</span>
        <span class="c1">// new *.gini.net public key, active from around June 2020</span>
        <span class="s">"zEVdOCzXU8euGVuMJYPr3DUU/d1CaKevtr0dW0XzZNo="</span>
    <span class="p">]],</span>
    <span class="s">"user.gini.net"</span><span class="p">:</span> <span class="p">[</span>
        <span class="nv">kTSKPublicKeyHashes</span><span class="p">:</span> <span class="p">[</span>
        <span class="c1">// old *.gini.net public key</span>
        <span class="s">"cNzbGowA+LNeQ681yMm8ulHxXiGojHE8qAjI+M7bIxU="</span><span class="p">,</span>
        <span class="c1">// new *.gini.net public key, active from around June 2020</span>
        <span class="s">"zEVdOCzXU8euGVuMJYPr3DUU/d1CaKevtr0dW0XzZNo="</span>
    <span class="p">]],</span>
<span class="p">]]</span> <span class="k">as</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]</span>

<span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">GiniCapture</span><span class="o">.</span><span class="nf">viewController</span><span class="p">(</span><span class="nv">withClient</span><span class="p">:</span> <span class="n">client</span><span class="p">,</span>
                                               <span class="nv">configuration</span><span class="p">:</span> <span class="n">giniConfiguration</span><span class="p">,</span>
                                               <span class="nv">resultsDelegate</span><span class="p">:</span> <span class="n">resultsDelegate</span><span class="p">,</span>
                                               <span class="nv">publicKeyPinningConfig</span><span class="p">:</span> <span class="n">yourPublicPinningConfig</span><span class="p">,</span>
                                               <span class="nv">documentMetadata</span><span class="p">:</span> <span class="n">documentMetadata</span><span class="p">,</span>
                                               <span class="nv">api</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">)</span>

<span class="nf">present</span><span class="p">(</span><span class="n">viewController</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span><span class="kc">nil</span><span class="p">)</span>
</code></pre>

<p><strong>Note</strong>: Starting from Gini Capture SDK version 1.0.6 certificate pinning requires <strong>iOS 12</strong>.</p>

<blockquote>
<p>⚠️  <strong>Important</strong></p>

<ul>
<li>The document metadata for the upload process is intended to be used for reporting. You can find out more about it in the <a href="https://pay-api.gini.net/documentation">Gini Bank API</a> documentation.</li>
<li>The multipage is supported only by the <code>.default</code> api.</li>
</ul>
</blockquote>
<h4 id='retrieve-the-analyzed-document' class='heading'>Retrieve the Analyzed Document</h4>

<p>The <code><a href="Classes/AnalysisResult.html">AnalysisResult</a></code> returned in <code>GiniCaptureResultsDelegate.giniCaptureAnalysisDidFinishWith(result:, sendFeedbackBlock:)</code> 
will return the analyzed Gini Bank API document in its <code>document</code> property.</p>

<p>When extractions were retrieved without using the Gini Bank API, then the <code><a href="Classes/AnalysisResult.html#/s:14GiniCaptureSDK14AnalysisResultC8document0A14BankAPILibrary8DocumentVSgvp">AnalysisResult.document</a></code> will be <code>nil</code>. For example when the
extractions came from an EPS QR Code.</p>
<h3 id='ui-with-custom-networking' class='heading'>UI with Custom Networking</h3>

<p>You can also provide your own networking by implementing the <code><a href="Protocols/GiniCaptureNetworkService.html">GiniCaptureNetworkService</a></code> and <code><a href="Protocols/GiniCaptureResultsDelegate.html">GiniCaptureResultsDelegate</a></code> protocols. Pass your instances to the UIViewController initialiser of GiniCapture as shown below.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">GiniCapture</span><span class="o">.</span><span class="nf">viewController</span><span class="p">(</span><span class="nv">importedDocuments</span><span class="p">:</span> <span class="n">visionDocuments</span><span class="p">,</span>
                                                <span class="nv">configuration</span><span class="p">:</span> <span class="n">visionConfiguration</span><span class="p">,</span>
                                                <span class="nv">resultsDelegate</span><span class="p">:</span> <span class="n">resultsDelegate</span><span class="p">,</span>
                                                <span class="nv">documentMetadata</span><span class="p">:</span> <span class="n">documentMetadata</span><span class="p">,</span>
                                                <span class="nv">trackingDelegate</span><span class="p">:</span> <span class="n">trackingDelegate</span><span class="p">,</span>
                                                <span class="nv">networkingService</span><span class="p">:</span> <span class="n">networkingService</span><span class="p">)</span>


<span class="nf">present</span><span class="p">(</span><span class="n">viewController</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
</code></pre>

<p>You may also use the <a href="https://github.com/gini/bank-api-library-ios">Gini Bank API Library</a> or implement communication with the Gini Bank API yourself.</p>
<h2 id='component-api' class='heading'>Component API</h2>

<p>The Component API provides a custom <code>UIViewController</code> for each screen. This allows a maximum of flexibility, as the screens can be presented modally, used in a container view or pushed to a navigation view controller. Make sure to add your own navigational elements around the provided views.</p>

<p>To also use the <code><a href="Classes/GiniConfiguration.html">GiniConfiguration</a></code> with the Component API just use the <code><a href="Classes/GiniCapture.html#/c:@M@GiniCaptureSDK@objc(cs)GiniCapture(cm)setConfiguration:">GiniCapture.setConfiguration(_:)</a></code> as follows:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">giniConfiguration</span> <span class="o">=</span> <span class="kt">GiniConfiguration</span><span class="p">()</span>
<span class="o">.</span>
<span class="o">.</span>
<span class="o">.</span>
<span class="kt">GiniCapture</span><span class="o">.</span><span class="nf">setConfiguration</span><span class="p">(</span><span class="n">giniConfiguration</span><span class="p">)</span>
</code></pre>

<p>The components that can be found in the SDK are:</p>

<ul>
<li><strong>Camera</strong>: The actual camera screen to capture the image of the document, to import a PDF or an image or to scan a QR Code (<code><a href="Classes/CameraViewController.html">CameraViewController</a></code>).</li>
<li><strong>Review</strong>: Offers the opportunity to the user to check the sharpness of the image and eventually to rotate it into reading direction (<code><a href="Classes/ReviewViewController.html">ReviewViewController</a></code>).</li>
<li><strong>Multipage Review</strong>: Allows to check the quality of one or several images and the possibility to rotate and reorder them (<code><a href="Classes/MultipageReviewViewController.html">MultipageReviewViewController</a></code>).</li>
<li><strong>Analysis</strong>: Provides a UI for the analysis process of the document by showing the user capture tips when an image is analyzed or the document information when it is a PDF. In both cases an image preview of the document analyzed will be shown (<code><a href="Classes/AnalysisViewController.html">AnalysisViewController</a></code>).</li>
<li><strong>Help</strong>: Helpful tutorials indicating how to use the open with feature, which are the supported file types and how to capture better photos for a good analysis (<code><a href="Classes/HelpMenuViewController.html">HelpMenuViewController</a></code>).</li>
<li><strong>No results</strong>: Shows some suggestions to capture better photos when there are no results after an analysis (<code><a href="Classes/ImageAnalysisNoResultsViewController.html">ImageAnalysisNoResultsViewController</a></code>).</li>
</ul>
<h2 id='sending-feedback' class='heading'>Sending Feedback</h2>

<p>Your app should send feedback for the extractions the Gini Bank API delivered. Feedback should be sent only for the extractions the user has seen and accepted (or corrected).</p>

<p>We provide a sample test case <a href="https://github.com/gini/gini-mobile-ios/blob/main/CaptureSDK/GiniCaptureSDKExample/Tests/ExtractionFeedbackIntegrationTest.swift">here</a> to verify that extraction feedback sending works. 
You may use it along with the example pdf and json files as a starting point to write your own test case.</p>

<p>The sample test case is based on the Bank API documentation&rsquo;s <a href="https://pay-api.gini.net/documentation/#test-example">recommended steps</a> for testing extraction feedback sending.</p>

<p>For additional information about feedback see the <a href="https://pay-api.gini.net/documentation/#send-feedback-and-get-even-better-extractions-next-time">Gini Bank API documentation</a>.</p>
<h3 id='default-networking-implementation' class='heading'>Default networking implementation</h3>

<p>The example below shows how to correct extractions and send feedback using the default networking implementation:</p>

<p>You should send feedback only for extractions the user has seen and accepted.</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">sendFeedbackBlock</span><span class="p">:</span> <span class="p">(([</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Extraction</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?</span>
<span class="k">var</span> <span class="nv">extractions</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Extraction</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

<span class="kd">func</span> <span class="nf">giniCaptureAnalysisDidFinishWith</span><span class="p">(</span><span class="nv">result</span><span class="p">:</span> <span class="kt">AnalysisResult</span><span class="p">,</span>
                           <span class="nv">sendFeedbackBlock</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">([</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Extraction</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">){</span>

    <span class="k">self</span><span class="o">.</span><span class="n">extractions</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">extractions</span>
    <span class="k">self</span><span class="o">.</span><span class="n">sendFeedbackBlock</span> <span class="o">=</span> <span class="n">sendFeedbackBlock</span>
    <span class="nf">showResultsScreen</span><span class="p">(</span><span class="nv">results</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">extractions</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">value</span> <span class="p">})</span>
<span class="p">}</span>
<span class="o">.</span>
<span class="o">.</span>
<span class="o">.</span>
<span class="c1">// In this example only the amountToPay was wrong and we can reuse the other extractions.</span>
<span class="k">let</span> <span class="nv">updatedExtractions</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">extractions</span>
<span class="n">updatedExtractions</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="nv">$0</span><span class="o">.</span><span class="n">value</span><span class="p">}</span><span class="o">.</span><span class="nf">first</span><span class="p">(</span><span class="nv">where</span><span class="p">:</span> <span class="p">{</span><span class="nv">$0</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">"amountToPay"</span><span class="p">})?</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s">"31,25:EUR"</span>
<span class="nf">sendFeedbackBlock</span><span class="p">(</span><span class="n">updatedExtractions</span><span class="p">)</span>

</code></pre>
<h3 id='custom-networking-implementation' class='heading'>Custom networking implementation</h3>

<p>If you use your own networking implementation and directly communicate with the Gini Bank API then see <a href="https://pay-api.gini.net/documentation/#submitting-feedback-on-extractions">this section</a> in its documentation on how to send feedback.</p>

<p>In case you use the <a href="https://developer.gini.net/gini-mobile-ios/GiniBankAPILibrary/">Gini Bank API Library</a> then see <a href="https://developer.gini.net/gini-mobile-ios/GiniBankAPILibrary/getting-started.html">this section</a> in its documentation for details.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2023 <a class="link" href="https://gini.net" target="_blank" rel="external noopener">Gini GmbH</a>. All rights reserved. (Last updated: 2023-07-24)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.14.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
